<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YouTube Info Extractor - Module Test</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
        background: #f5f5f5;
      }
      .test-section {
        background: white;
        padding: 20px;
        margin: 20px 0;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .success {
        color: #10b981;
      }
      .error {
        color: #ef4444;
      }
      .info {
        color: #3b82f6;
      }
      .module-status {
        padding: 10px;
        margin: 10px 0;
        border-radius: 4px;
        background: #f8fafc;
      }
      .module-status.success {
        background: #ecfdf5;
        border-left: 4px solid #10b981;
      }
      .module-status.error {
        background: #fef2f2;
        border-left: 4px solid #ef4444;
      }
      .module-status.info {
        background: #eff6ff;
        border-left: 4px solid #3b82f6;
      }
    </style>
  </head>
  <body>
    <h1>üé¨ YouTube Info Extractor - Module Test</h1>

    <div class="test-section">
      <h2>Module Loading Test</h2>
      <p>
        This page tests if all modules are loading correctly. Check the console
        for detailed logs.
      </p>

      <div id="module-status"></div>
    </div>

    <div class="test-section">
      <h2>Test Functions</h2>
      <button onclick="testDOMUtils()">Test DOM Utils</button>
      <button onclick="testVideoExtractor()">Test Video Extractor</button>
      <button onclick="testCopyManager()">Test Copy Manager</button>
      <button onclick="testThumbnailDownloader()">
        Test Thumbnail Downloader
      </button>
      <button onclick="testUIManager()">Test UI Manager</button>
    </div>

    <div class="test-section">
      <h2>Console Output</h2>
      <p>
        Check your browser's console (F12) for detailed test results and any
        errors.
      </p>
    </div>

    <!-- Load modules in correct order -->
    <script src="modules/dom-utils.js"></script>
    <script src="modules/ui-manager.js"></script>
    <script src="modules/video-extractor.js"></script>
    <script src="modules/thumbnail-downloader.js"></script>
    <script src="modules/copy-manager.js"></script>

    <script>
      // Test all modules on load
      window.addEventListener("load", function () {
        console.log("üöÄ Starting module tests...");
        testAllModules();
      });

      function testAllModules() {
        const statusDiv = document.getElementById("module-status");
        let allPassed = true;

        // Test DOM Utils
        if (window.YTDomUtils) {
          addModuleStatus("‚úÖ DOM Utils loaded successfully", "success");
          console.log("‚úÖ DOM Utils:", window.YTDomUtils);
        } else {
          addModuleStatus("‚ùå DOM Utils failed to load", "error");
          allPassed = false;
        }

        // Test UI Manager
        if (window.YTUIManager) {
          addModuleStatus("‚úÖ UI Manager loaded successfully", "success");
          console.log("‚úÖ UI Manager:", window.YTUIManager);
        } else {
          addModuleStatus("‚ùå UI Manager failed to load", "error");
          allPassed = false;
        }

        // Test Video Extractor
        if (window.YTVideoExtractor) {
          addModuleStatus("‚úÖ Video Extractor loaded successfully", "success");
          console.log("‚úÖ Video Extractor:", window.YTVideoExtractor);
        } else {
          addModuleStatus("‚ùå Video Extractor failed to load", "error");
          allPassed = false;
        }

        // Test Copy Manager
        if (window.YTCopyManager) {
          addModuleStatus("‚úÖ Copy Manager loaded successfully", "success");
          console.log("‚úÖ Copy Manager:", window.YTCopyManager);
        } else {
          addModuleStatus("‚ùå Copy Manager failed to load", "error");
          allPassed = false;
        }

        // Test Thumbnail Downloader
        if (window.YTThumbnailDownloader) {
          addModuleStatus(
            "‚úÖ Thumbnail Downloader loaded successfully",
            "success"
          );
          console.log("‚úÖ Thumbnail Downloader:", window.YTThumbnailDownloader);
        } else {
          addModuleStatus("‚ùå Thumbnail Downloader failed to load", "error");
          allPassed = false;
        }

        // Overall status
        if (allPassed) {
          addModuleStatus("üéâ All modules loaded successfully!", "success");
          console.log("üéâ All modules loaded successfully!");
        } else {
          addModuleStatus(
            "‚ö†Ô∏è Some modules failed to load. Check console for details.",
            "error"
          );
          console.log(
            "‚ö†Ô∏è Some modules failed to load. Check console for details."
          );
        }
      }

      function addModuleStatus(message, type) {
        const statusDiv = document.getElementById("module-status");
        const statusElement = document.createElement("div");
        statusElement.className = `module-status ${type}`;
        statusElement.textContent = message;
        statusDiv.appendChild(statusElement);
      }

      function testDOMUtils() {
        console.log("üß™ Testing DOM Utils...");
        if (window.YTDomUtils) {
          console.log(
            "‚úÖ YTDomUtils.YOUTUBE_SELECTORS:",
            window.YTDomUtils.YOUTUBE_SELECTORS
          );
          console.log(
            "‚úÖ YTDomUtils.createElement function:",
            typeof window.YTDomUtils.createElement
          );
        } else {
          console.log("‚ùå YTDomUtils not available");
        }
      }

      function testVideoExtractor() {
        console.log("üß™ Testing Video Extractor...");
        if (window.YTVideoExtractor) {
          console.log(
            "‚úÖ YTVideoExtractor.extractVideos function:",
            typeof window.YTVideoExtractor.extractVideos
          );
          console.log(
            "‚úÖ YTVideoExtractor.getExtractedVideos function:",
            typeof window.YTVideoExtractor.getExtractedVideos
          );
        } else {
          console.log("‚ùå YTVideoExtractor not available");
        }
      }

      function testCopyManager() {
        console.log("üß™ Testing Copy Manager...");
        if (window.YTCopyManager) {
          console.log(
            "‚úÖ YTCopyManager.addCopyIconsToVideos function:",
            typeof window.YTCopyManager.addCopyIconsToVideos
          );
          console.log(
            "‚úÖ YTCopyManager.copyToClipboard function:",
            typeof window.YTCopyManager.copyToClipboard
          );
        } else {
          console.log("‚ùå YTCopyManager not available");
        }
      }

      function testThumbnailDownloader() {
        console.log("üß™ Testing Thumbnail Downloader...");
        if (window.YTThumbnailDownloader) {
          console.log(
            "‚úÖ YTThumbnailDownloader.addThumbnailDownloadButtons function:",
            typeof window.YTThumbnailDownloader.addThumbnailDownloadButtons
          );
          console.log(
            "‚úÖ YTThumbnailDownloader.downloadThumbnail function:",
            typeof window.YTThumbnailDownloader.downloadThumbnail
          );
          console.log(
            "‚úÖ YTThumbnailDownloader.qualityOptions:",
            window.YTThumbnailDownloader.qualityOptions
          );
        } else {
          console.log("‚ùå YTThumbnailDownloader not available");
        }
      }

      function testUIManager() {
        console.log("üß™ Testing UI Manager...");
        if (window.YTUIManager) {
          console.log(
            "‚úÖ YTUIManager.initialize function:",
            typeof window.YTUIManager.initialize
          );
          console.log(
            "‚úÖ YTUIManager.createEmbeddedUI function:",
            typeof window.YTUIManager.createEmbeddedUI
          );
          console.log(
            "‚úÖ YTUIManager.isInitialized:",
            window.YTUIManager.isInitialized
          );
        } else {
          console.log("‚ùå YTUIManager not available");
        }
      }
    </script>
  </body>
</html>
